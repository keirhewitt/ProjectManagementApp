
{% extends 'base.html' %}

{% block head %}
<title>Tasks</title>
<link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
{% endblock %}

{% block body %}

{% block navbar %}

<div class="nav-bar-userprofile"> <!-- Left side of nav bar -->
    <ul class="nav-user-ul">
        <li class="nav-user-li">
          <a href="{{url_for('index')}}">Home</a>
        </li>
        <li class="nav-user-li">
          <a href="{{url_for('create_room')}}">Create Room</a>
        </li>

        <div class="page-title-nav">
          <li class="nav-user-li">
              <p style="margin-block-start: 0;">Login to a room</p>
          </li>
        </div>
  
        <div class="nav-right"> <!-- Right side of nav bar -->
          <li class="nav-user-li">
            <a href="{{url_for('login')}}">User Login</a>
          </li>
            
          <li class="nav-user-li">
            <a href="{{url_for('logout')}}">User Logout</a>
          </li>
  
        </div>
    </ul>
  </div>

{% endblock %}

{% with messages = get_flashed_messages() %}
  {% if messages %}
    {% for message in messages %}
      <h1>{{ message }}</h1>
    {% endfor %}
  {% endif %}
{% endwith %}

{% if rooms|length < 1%}    <!-- If no rooms have been created, prompt user to create one -->

  <h1 class="no-room-header">There are no rooms currently active, create one!</h1>
  <form action="{{url_for('create_room')}}">
    <input type="submit" class="create-room-btn" value="Create Room">
  </form>

{% else %}

<div class="home-description">            <!-- Description div -->
  <h5>Enter a room name and password, then 
    <div class="login-styling" style="display: inline;background-color:red">  <!-- login div -->
      <em style="color: #ececec" class="login-styling-text">
        login
      </em>
    </div> 
    to be brought to your room.</h5>
</div>

{% if error %}
  <p class="error-message"><strong>Error:</strong> {{ error }}
{% endif %}

<div class="home-container-wrapper">        <!-- Main background -->
  <div class="form-background">             <!-- Form background box -->
    <div class="home-container-inner">      <!-- Form fields div-->

      <form method="POST" action="">

          {{ form.hidden_tag()                              }}
          {{ form.room_name (class_="room-search-name")      }}
          {{ form.password (class_="room-search-password")  }}
          {{ form.submit   (class_="room-search-submit")    }}

      </form>

    </div>
  </div>
</div>
<script></script>

{% endif %}

{% endblock %}